<div class="row" ng-controller="PostsCtrl" ng-init="init()">
  <div class="col-md-4">
    <form class="post-form" ng-submit="searchPosts()">
      <div class="input-group">
        <span class="input-group-addon" id="sizing-addon2"><i class="fa fa-search"></i></span>
        <input type="text" class="form-control"
          ng-model="search.path"
          placeholder="Search for path"
          aria-describedby="sizing-addon2"/>
      </div>
      <div class="input-group">
        <span class="input-group-addon"><i class="fa fa-user"></i></span>
        <input type="text" class="form-control"
          ng-model="search.updated_user_name"
          placeholder="Search for user"/>
      </div>
      <div class="input-group">
        <span class="input-group-addon"><i class="fa fa-file-text-o"></i></span>
        <input type="text" class="form-control"
          ng-model="search.body"
          placeholder="Search for body"/>
      </div>
      <div class="action-button">
        <button class="btn btn-primary submit" type="submit">
          <i class="fa fa-search"></i>
        </button>
      </div>
    </form>
    <table class="table table-hover table-posts">
      <tr>
        <th class="posts">Posts</th>
      </tr>
      <tr ng-repeat="post in posts">
        <td ng-click="preview(post)">
          <span>{{post.path}}</span>
          {{post.created_user.name}}
          <span ng-show="currentUser.id == post.updated_user.id">
            <a ng-href="#/posts/{{post.id}}" class="btn btn-success">
              <i class="fa fa-pencil fa-lg"></i>
            </a>
            <button class="btn btn-danger" ng-click="postDelete(post)">
              <i class="fa fa-trash fa-lg"></i>
            </button>
          </span>
          {{post.aasm_state}}
        </td>
      </tr>
    </table>
  </div>
  <div class="col-md-8">
    <post-view></post-view>
  </div>
</div>
